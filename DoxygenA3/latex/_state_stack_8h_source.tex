\hypertarget{_state_stack_8h_source}{}\doxysection{D\+:/\+Sem 6/\+Game Engine Dev II/\+Assignments/a1-\/final/\+A1/\+GAME3015\+\_\+\+A1\+\_\+101268880/\+State\+Stack.h}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}State.h"{}}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}StateIdentifiers.h"{}}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{class }\mbox{\hyperlink{class_state_stack}{StateStack}}}
\DoxyCodeLine{12 \{}
\DoxyCodeLine{13 \textcolor{keyword}{public}:}
\DoxyCodeLine{14     \textcolor{keyword}{enum} Action}
\DoxyCodeLine{15     \{}
\DoxyCodeLine{16         Push,}
\DoxyCodeLine{17         Pop,}
\DoxyCodeLine{18         Clear,}
\DoxyCodeLine{19     \};}
\DoxyCodeLine{20 \textcolor{keyword}{public}:}
\DoxyCodeLine{22     \textcolor{keyword}{explicit} \mbox{\hyperlink{class_state_stack_a365f29afd04a9370f6638cbe3b4ff92a}{StateStack}}(\mbox{\hyperlink{struct_state_1_1_context}{State::Context}} context);}
\DoxyCodeLine{23 }
\DoxyCodeLine{25     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{26     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_state_stack_a9d64daa479c2cccad6f2ede77741a352}{registerState}}(States::ID stateID);}
\DoxyCodeLine{27 }
\DoxyCodeLine{29     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_state_stack_a22c2b84575447cdcfe7fef102cb90847}{update}}(\textcolor{keyword}{const} GameTimer\& gt);}
\DoxyCodeLine{30 }
\DoxyCodeLine{32     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_state_stack_a0990b973b2a0bdf8fad2f326e564931a}{draw}}();}
\DoxyCodeLine{33 }
\DoxyCodeLine{35     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_state_stack_a2a6df2bdf1d3edfb12f09fbb1dfbf67d}{handleEvent}}(WPARAM btnState);}
\DoxyCodeLine{36     \textcolor{keywordtype}{void} handleRealtimeInput();}
\DoxyCodeLine{37 }
\DoxyCodeLine{39     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_state_stack_a80ed85f0fc13039e6f4c7dfef19e608f}{pushState}}(States::ID stateID);}
\DoxyCodeLine{41     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_state_stack_a7e050a57b798295c2344f1318765b5ee}{popState}}();}
\DoxyCodeLine{42 }
\DoxyCodeLine{44     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_state_stack_a49f0703d4037c3bf63494e64cb09898d}{clearStates}}();}
\DoxyCodeLine{45 }
\DoxyCodeLine{46     \textcolor{keywordtype}{bool} isEmpty() \textcolor{keyword}{const};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     XMFLOAT3 getCameraPos();}
\DoxyCodeLine{49     XMFLOAT3 getTargetPos();}
\DoxyCodeLine{50     \mbox{\hyperlink{class_state}{State}}* getCurrentState();}
\DoxyCodeLine{51 \textcolor{keyword}{private}:}
\DoxyCodeLine{52     State::StatePtr createState(States::ID stateID);}
\DoxyCodeLine{53     \textcolor{keywordtype}{void} applyPendingChanges();}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 \textcolor{keyword}{private}:}
\DoxyCodeLine{57     \textcolor{keyword}{struct }PendingChange}
\DoxyCodeLine{58     \{}
\DoxyCodeLine{59         \textcolor{keyword}{explicit}            PendingChange(Action action, States::ID stateID = States::None);}
\DoxyCodeLine{60 }
\DoxyCodeLine{61         Action              action;}
\DoxyCodeLine{62         States::ID          stateID;}
\DoxyCodeLine{63     \};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65 \textcolor{keyword}{private}:}
\DoxyCodeLine{67     std::vector<State::StatePtr>    mStack;}
\DoxyCodeLine{68 }
\DoxyCodeLine{70     std::vector<PendingChange>  mPendingList;}
\DoxyCodeLine{71 }
\DoxyCodeLine{73     \mbox{\hyperlink{struct_state_1_1_context}{State::Context}}    mContext;}
\DoxyCodeLine{74 }
\DoxyCodeLine{76     std::map<States::ID, std::function<State::StatePtr()>> mFactories;}
\DoxyCodeLine{77 \};}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{81 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_state_stack_a9d64daa479c2cccad6f2ede77741a352}{StateStack::registerState}}(States::ID stateID)}
\DoxyCodeLine{82 \{}
\DoxyCodeLine{83     mFactories[stateID] = [\textcolor{keyword}{this}]()}
\DoxyCodeLine{84     \{}
\DoxyCodeLine{85         \textcolor{keywordflow}{return} State::StatePtr(\textcolor{keyword}{new} T(\textcolor{keyword}{this}, \&mContext));}
\DoxyCodeLine{86     \};}
\DoxyCodeLine{87 \}}
\DoxyCodeLine{88 }

\end{DoxyCode}
